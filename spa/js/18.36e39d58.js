(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{ecf9:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("page",{attrs:{breadcrumbs:[{label:"Lista",link:"/sindicancias/lista"},{label:"Criar",link:"/sindicancias/inserir"}]}},[i("q-stepper",{ref:"stepper",attrs:{color:"primary",animated:""},scopedSlots:e._u([{key:"navigation",fn:function(){return[i("q-stepper-navigation",[1===e.step?[1===e.step?i("q-btn",{staticClass:"full-width",attrs:{color:"positive",label:"Continuar",loading:e.loading,icon:"fa fa-arrow-right"},on:{click:function(t){e.register.id?e.update(e.register.id):e.add()}}}):e._e()]:[i("q-btn",{staticClass:"full-width bg-positive",attrs:{flat:"",color:"white",label:"Voltar",icon:"fa fa-arrow-left"},on:{click:e.previous}}),i("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Finalizar"},on:{click:e.finalize}})]],2)]},proxy:!0}]),model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[i("q-step",{attrs:{name:1,title:"Dados principais",icon:"settings",done:e.step>1}},[i("form",{staticClass:"row"},[i("div",{staticClass:"q-pa-md col-12"},[i("Prioridade",{model:{value:e.register.prioridade,callback:function(t){e.$set(e.register,"prioridade",t)},expression:"register.prioridade"}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("InputText",{attrs:{label:"Andamento",value:"Andamento",disable:""}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("InputText",{ref:"doc_origem_txt",attrs:{label:"Documento de origem",required:""},model:{value:e.register.doc_origem_txt,callback:function(t){e.$set(e.register,"doc_origem_txt",t)},expression:"register.doc_origem_txt"}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("InputDate",{attrs:{label:"Data da fato"},model:{value:e.register.fato_data,callback:function(t){e.$set(e.register,"fato_data",t)},expression:"register.fato_data"}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("OPM",{ref:"opm",attrs:{required:""},model:{value:e.register.cdopm,callback:function(t){e.$set(e.register,"cdopm",t)},expression:"register.cdopm"}})],1),e.register.cdopm?i("div",{staticClass:"q-pa-md col-4"},[i("Portaria",{ref:"portaria_numero",attrs:{label:"N° Portaria",required:"",proc:"sindicancia",cdopm:e.register.cdopm},model:{value:e.register.portaria_numero,callback:function(t){e.$set(e.register,"portaria_numero",t)},expression:"register.portaria_numero"}})],1):e._e(),i("div",{staticClass:"q-pa-md col-4"},[i("InputDate",{ref:"portaria_data",attrs:{label:"Data da Portaria",required:""},model:{value:e.register.portaria_data,callback:function(t){e.$set(e.register,"portaria_data",t)},expression:"register.portaria_data"}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("TipoBoletim",{model:{value:e.register.doc_tipo,callback:function(t){e.$set(e.register,"doc_tipo",t)},expression:"register.doc_tipo"}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("InputText",{attrs:{label:"N° Boletim"},model:{value:e.register.doc_numero,callback:function(t){e.$set(e.register,"doc_numero",t)},expression:"register.doc_numero"}})],1),i("div",{staticClass:"q-pa-md col-4"},[i("InputDate",{attrs:{label:"Data da abertura"},model:{value:e.register.abertura_data,callback:function(t){e.$set(e.register,"abertura_data",t)},expression:"register.abertura_data"}})],1),i("div",{staticClass:"q-pa-md col-6"},[i("InputSelect",{attrs:{label:"Motivo abertura",options:e.motivoAberturaSindicancia},model:{value:e.register.motivo_abertura,callback:function(t){e.$set(e.register,"motivo_abertura",t)},expression:"register.motivo_abertura"}})],1),"Outro"===e.register.motivo_abertura?i("div",{staticClass:"q-pa-md col-6"},[i("InputText",{ref:"motivo_outros",attrs:{label:"Descreva o motivo",required:""},model:{value:e.register.motivo_outros,callback:function(t){e.$set(e.register,"motivo_outros",t)},expression:"register.motivo_outros"}})],1):e._e(),i("div",{staticClass:"q-pa-md col-12"},[i("InputText",{ref:"sintese_txt",attrs:{label:"Sintese do fato",minLength:200,autogrow:"",required:"",lorem:200},model:{value:e.register.sintese_txt,callback:function(t){e.$set(e.register,"sintese_txt",t)},expression:"register.sintese_txt"}})],1)])]),i("q-step",{attrs:{name:2,title:"Envolvidos",icon:"create_new_folder",done:e.step>2}},[e.register.id?[i("ProcedOrigem",{attrs:{type:"sindicancia",data:{id_sindicancia:e.register.id}}}),i("Membro",{ref:"sindicante",attrs:{label:"Sindicante",required:"",data:{situacao:"sindicante",id_sindicancia:e.register.id}}}),i("Membro",{ref:"escrivao",attrs:{label:"Escrivão",data:{situacao:"escrivao",id_sindicancia:e.register.id}}}),i("Acusado",{attrs:{label:"Sindicado",data:{situacao:"sindicado",id_sindicancia:e.register.id}}}),i("Vitima",{attrs:{data:{id_sindicancia:e.register.id}}})]:e._e()],2)],1)],1)},r=[],o=i("e4fd");const s=()=>i.e(0).then(i.bind(null,"c652")),n=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"0af5")),l=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"75ba")),c=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"c49f")),d=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"7fb4")),u=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"71ec")),p=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"f1f41")),m=()=>i.e(0).then(i.bind(null,"3e95")),b=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"e139")),g=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"77e4")),f=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"c41e")),v=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"ec0d")),_=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"2498")),x=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"ee53")),h=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"3631")),q=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"3fc9")),P=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"dbe0")),k=()=>Promise.all([i.e(1),i.e(0)]).then(i.bind(null,"d49d"));var C=i("0b2c"),w=i("e151"),O=i("136f"),I=i("3be9"),S=function(e,t,i,a){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function n(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):r(e.value).then(s,n)}l((a=a.apply(e,t||[])).next())}))};const $=["motivo_cancelamento","doc_origem_txt","opm","portaria_numero","sintese_txt","portaria_data","prorogacao_dias","motivo_outros","sindicante","escrivao"];var y=Object(o["defineComponent"])({name:"Form",components:{Page:g,ProcedOrigem:q,Acusado:f,Vitima:k,FileUpload:_,Membro:x,Movimento:h,Sobrestamento:P,Arquivo:v,InputDate:l,TipoBoletim:b,Prioridade:m,InputText:d,InputSelect:n,InputNumber:s,InputSN:c,OPM:u,Portaria:p},setup(e,{refs:t,root:i}){const a=Object(o["reactive"])({step:1,tab:"main",loading:!1,register:{id:0,sintese_txt:"",prioridade:!1,id_andamento:6,id_andamentocoger:"",motivo_cancelamento:"",doc_origem_txt:"",fato_data:"",cdopm:"",portaria_numero:"",portaria_data:"",doc_tipo:"",doc_numero:"",abertura_data:"",prorogacao:"",prorogacao_dias:0,motivo_abertura:"",motivo_outros:"",completo:!1},andamentoCogerSindicancia:C["o"],andamentoSindicancia:C["v"],motivoAberturaSindicancia:C["w"],prorogacao:C["E"],tipoBoletim:C["G"]}),r={create(){return S(this,void 0,void 0,(function*(){if(Object(O["b"])(t,$)){const e=yield Object(w["c"])("sindicancias",a.register,{silent:!0,complete:!0,debug:!0});if("success"===e.returntype)return a.register.id=e.data.id,void t.stepper.next()}}))},update(e){return S(this,void 0,void 0,(function*(){if(Object(O["b"])(t,$)){const i=yield Object(w["d"])(`sindicancias/${e}`,a.register,{silent:!0,complete:!0,debug:!0});"success"===i.returntype&&t.stepper.next()}}))},subforms(){return S(this,void 0,void 0,(function*(){const e=yield t.sindicante.getState();return"toInsert"!==e||(Object(I["a"])("Insira o sindicante"),!1)}))},finalize(){return S(this,void 0,void 0,(function*(){if(Object(O["b"])(t,$)){const e=yield this.subforms();if(e&&a.register.id)return a.register.completo=!0,yield Object(w["d"])(`sindicancias/${a.register.id}`,a.register),i.$router.push("/sindicancias/lista")}}))},previous(){t.stepper.previous()}};return Object.assign(Object.assign({},Object(o["toRefs"])(a)),r)}}),j=y,D=i("2877"),T=i("f531"),A=i("87fe"),M=i("b19c"),B=i("9c40"),N=i("eebe"),E=i.n(N),Q=Object(D["a"])(j,a,r,!1,null,null,null);t["default"]=Q.exports;E()(Q,"components",{QStepper:T["a"],QStep:A["a"],QStepperNavigation:M["a"],QBtn:B["a"]})}}]);